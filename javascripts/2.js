"use strict";jQuery(document).ready(function(){function e(e){l.empty().html($("<i>").addClass("pf pf-"+e))}var t=/^4[0-9]{6,}$/,r=/^5[1-5][0-9]{5,}|222[1-9][0-9]{3,}|22[3-9][0-9]{4,}|2[3-6][0-9]{5,}|27[01][0-9]{4,}|2720[0-9]{3,}$/,n=/^3[47][0-9]{5,}$/,u=/^3(?:0[0-5]|[68][0-9])[0-9]{4,}$/,a=/^6(?:011|5[0-9]{2})[0-9]{3,}$/,i=/^(?:2131|1800|35[0-9]{3})[0-9]{3,}$/,c=jQuery("#card-number"),s=jQuery("#expire-on"),f=jQuery("#card-holder"),o=jQuery("#cvv"),l=jQuery("#payment-icon"),b=jQuery("#expire-month-field"),m=jQuery("#expire-year-field"),p=jQuery("#card-number-field"),v=jQuery("#card-holder-field"),d=jQuery("#cvv-field");Rx.Observable.fromEvent(p,"input").map(function(e){return e.target.value}).flatMap(function(e){return Rx.Observable.from(e.split("")).filter(function(e){return e.match(/[0-9]/g)}).take(16).reduce(function(e,t){return e+t},"")})["do"](function(e){return p.val(e)})["do"](function(c){switch(!0){case t.test(c):e("visa");break;case r.test(c):e("mastercard");break;case n.test(c):e("american-express");break;case u.test(c):e("diners");break;case a.test(c):e("discover");break;case i.test(c):e("jcb");break;default:l.empty()}}).map(function(e){return(e+"________________").slice(0,16)}).map(function(e){return e.match(/.{1,4}/g).join(" ")}).subscribe(function(e){return c.html(e)}),Rx.Observable.fromEvent(b,"change").map(function(e){return e.target.value}).map(function(e){return("0"+e).slice(-2)}).map(function(e){return e+"/"+s.text().split("/")[1]}).subscribe(function(e){return s.text(e)}),Rx.Observable.fromEvent(m,"input").map(function(e){return e.target.value}).map(function(e){return("__"+e).slice(-2)}).map(function(e){return s.text().split("/")[0]+"/"+e}).subscribe(function(e){return s.text(e)}),Rx.Observable.fromEvent(v,"input").map(function(e){return e.target.value}).subscribe(function(e){return f.text(e)}),Rx.Observable.fromEvent(d,"input").map(function(e){return e.target.value}).flatMap(function(e){return Rx.Observable.from(e.split("")).filter(function(e){return e.match(/[0-9]/g)}).take(3).reduce(function(e,t){return e+t},"")})["do"](function(e){return d.val(e)}).map(function(e){return("000"+e).slice(-3)}).subscribe(function(e){return o.text(e)})});